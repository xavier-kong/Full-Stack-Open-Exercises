{"version":3,"sources":["components/Display.js","services/person.js","components/Filter.js","components/Form.js","App.js","index.js"],"names":["Display","name","number","remove","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","delete","arr","pos","findIndex","obj","newPerson","put","Filter","persons","newFilter","handleDelete","handleDeleteError","filter","test","toLowerCase","includes","checkIncl","map","person","window","confirm","personService","catch","alert","Form","addNew","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","errorMessage","setErrorMessage","useEffect","initialNotes","event","target","preventDefault","personObject","find","element","returnedNotes","setTimeout","concat","error","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ee307699.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Display = ({ name, number, remove }) => {\r\n  return (\r\n    <li>\r\n      {name}\r\n      &nbsp; \r\n      {number}\r\n      &nbsp;\r\n      <button onClick={remove}>Delete</button>  \r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Display;","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`) \r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst getId = (arr, name) => {\r\n  let pos = arr.findIndex(obj => obj.name === name)\r\n  return (\r\n    arr[pos].id\r\n  )\r\n}\r\n\r\nexport default { getAll, create, remove, getId, update }","import React from 'react';\r\nimport Display from '../components/Display';\r\n//import person from '../services/person';\r\nimport personService from '../services/person'\r\n\r\nconst remove = (id, name, handleDelete, handleDeleteError ) => {\r\n  if (window.confirm(`Are you sure you want to delete ${name} ?`)) {\r\n    personService\r\n    .remove(id)\r\n    .then(() => handleDelete())\r\n    .catch(() => handleDeleteError(name))\r\n  } else {\r\n    window.alert(`${name} was not deleted!`)\r\n  }\r\n}\r\n\r\nconst Filter = ({ persons, newFilter, handleDelete, handleDeleteError }) => {\r\n  const checkIncl = (name, test) => {\r\n    if (name.toLowerCase().includes(test.toLowerCase())) {\r\n      return name\r\n    }\r\n  }\r\n\r\n  return (\r\n  persons\r\n    .filter(obj => checkIncl(obj.name, newFilter))\r\n    .map(person => <Display key={person.name} name={person.name} number={person.number} remove={() => remove(person.id, person.name, handleDelete, handleDeleteError)}/>)\r\n  )\r\n}\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst Form = ({ addNew, newName, handleNameChange, newNumber, handleNumberChange }) => (\r\n    <form onSubmit={addNew}> \r\n      <div>\r\n        name: <input \r\n        value={newName}\r\n        onChange={handleNameChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        number: <input\r\n        value={newNumber}\r\n        onChange={handleNumberChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n\r\nexport default Form;","import React, { useState, useEffect } from 'react'\n//import axios from 'axios'\nimport Filter from './components/Filter';\nimport Form from './components/Form';\nimport personService from './services/person'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialNotes => {\n        setPersons(initialNotes)\n        })\n  }, [])\n\n  const handleNameChange = (event) => {\n    //console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    //console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    //console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n\n  const handleDelete = (event) => {\n    personService\n      .getAll()\n      .then(initialNotes => {\n        setPersons(initialNotes)\n        })\n  }\n\n  const handleDeleteError = (name) => {\n    console.log(\"error in deleting name\")\n    setErrorMessage(`${name}'s information was already deleted from server`)\n    setTimeout(() => {setErrorMessage(null)}, 5000)\n    personService\n      .getAll()\n      .then(initialNotes => {\n        setPersons(initialNotes)\n        })\n  }\n\n  const checkDupe = (arr, test) => {\n    let found = arr.find(element => element.name === test.name)\n    return ((found) ? true : false )\n  }\n\n  const addNew = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n    if (checkDupe(persons, personObject)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const id = personService.getId(persons, newName);\n        personService\n          .update(id, personObject)\n          .then(returnedNotes => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedNotes))\n            setNewName('')\n            setNewNumber('')\n            setErrorMessage(`${newName}'s number was changed`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            })\n          .catch(() => {\n            setErrorMessage(`Error: ${newName}'s number could not be changed`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      } else {\n        setErrorMessage(`${newName}'s number was not changed`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n      }\n    } else {\n        personService\n          .create(personObject)\n          .then(returnedNotes => {\n            setPersons(persons.concat(returnedNotes))\n            setNewName('')\n            setNewNumber('')\n            setErrorMessage(`${newName}'s number was added`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)})        \n          .catch(error => {\n            setErrorMessage(`${error.response.data.error}`)\n          })\n    }\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage}/>\n      <div>\n        filter shown with <input \n        value={newFilter}\n        onChange={handleFilterChange}\n        />\n      </div>\n      <h2>add a new</h2>\n      <Form \n        addNew={addNew} \n        newName={newName} \n        handleNameChange={handleNameChange} newNumber={newNumber} \n        handleNumberChange={handleNumberChange}\n        />\n      <h2>Numbers</h2>\n      <ul>\n        <Filter \n          persons={persons} \n          newFilter={newFilter}\n          handleDelete={handleDelete}\n          handleDeleteError={handleDeleteError}\n        />\n      </ul>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}